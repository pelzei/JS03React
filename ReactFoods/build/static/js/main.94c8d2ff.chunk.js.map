{"version":3,"sources":["components/Cart/Checkout.module.css","components/Cart/Cart.module.css","components/Meals/MealItem/MealDetail.module.css","components/Cart/CartItem.module.css","components/Layout/HeaderCartButton.module.css","components/Meals/MealItem/MealItem.module.css","components/Meals/AvailableMeals.module.css","components/Layout/Header.module.css","components/UI/Card.module.css","components/UI/Input.module.css","components/Meals/MealItem/MealItemForm.module.css","store/redux/auth-slice.js","store/redux/cart-slice.js","store/redux/foods-slice.js","store/redux/index.js","components/Cart/CartIcon.js","components/Layout/HeaderCartButton.js","components/Layout/Header.js","components/UI/Card.js","components/UI/Input.js","components/Meals/MealItem/MealItemForm.js","components/Meals/MealItem/MealItem.js","components/Meals/AvailableMeals.js","components/Meals/Meals.js","components/Meals/MealItem/MealDetail.js","pages/MealsDetailPage.js","components/Cart/CartItem.js","components/Cart/Checkout.js","components/Cart/Cart.js","App.js","index.js"],"names":["module","exports","authSlice","createSlice","name","initialState","isAuth","reducers","setLoggedIn","state","setLoggedOut","actions","cartSlice","items","totalQuantity","totalAmount","addItemToCart","action","newItem","payload","console","log","existingItem","find","item","id","quantity","price","totalPrice","push","title","removeItemFromCart","filter","clearCart","cartContent","cartActions","foodsSlice","setFoods","foodsActions","store","configureStore","reducer","auth","cart","foods","CartIcon","xmlns","viewBox","fill","d","HeaderCartButton","props","useState","btnIsHighLighted","setBtnIsHighlighted","cartItems","useSelector","numberOfCartItems","btnClasses","classes","button","bump","useEffect","length","setTimeout","clearTimeout","className","onClick","icon","badge","Header","showProfile","header","to","Card","card","children","Input","React","forwardRef","ref","input","htmlFor","label","MealItemForm","amountIsValid","setAmountIsValid","amountInputRef","useRef","form","onSubmit","event","preventDefault","enteredAmount","current","value","enteredAmountNumber","trim","onAddToCart","type","min","max","step","defaultValue","MealItem","dispatch","useDispatch","meal","mealimage","src","image","alt","short","description","desc","amount","key","AvailableMeals","meals","setMeals","isLoading","setIsLoading","httpError","setHttpError","a","fetch","response","ok","Error","json","responseData","setFoodsItemsHandler","loadedMeals","fetchMeals","catch","error","message","MealsLoading","MealsError","mealsList","map","Meals","MealDetail","useParams","foodItem","detailcard","productdata","productimage","outline","producttext","productactions","MealsDetailPage","params","CartItem","itemPrice","summary","sum","isEmpty","Checkout","street","postalCode","city","formInputsValidity","setFormInputsValidity","nameInputRef","streetInputRef","postalInputRef","cityInputRef","enteredName","enteredStreet","enteredPostal","enteredCity","enteredNameIsValid","enteredStreetIsValid","enteredPostalIsValid","enteredCityIsValid","onConfirm","control","invalid","submit","Cart","cartState","cartTotal","isCheckout","setIsCheckout","isSubmitting","setIsSubmitting","didSubmit","setDidSubmit","hasItems","cartItemRemoveHandler","cartItemAddHandler","onRemove","onAdd","submitOrderHandler","userData","method","body","JSON","stringify","user","orderedItems","modalActions","onClose","Fragment","total","onCancel","isSubmittingContent","didSubmitContent","cartcard","App","path","exact","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.94c8d2ff.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"Checkout_form__1QDtQ\",\"control\":\"Checkout_control__-bqLw\",\"actions\":\"Checkout_actions__gglOc\",\"submit\":\"Checkout_submit__fD28x\",\"invalid\":\"Checkout_invalid__2Iwm_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"cartcard\":\"Cart_cartcard__zIxSF\",\"cart-items\":\"Cart_cart-items__1PFeN\",\"total\":\"Cart_total__w5vnm\",\"actions\":\"Cart_actions__3BjqG\",\"button--alt\":\"Cart_button--alt__ceJ8n\",\"button\":\"Cart_button__2ouKI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"detailcard\":\"MealDetail_detailcard__IJVF4\",\"outline\":\"MealDetail_outline__1P6mV\",\"leftside\":\"MealDetail_leftside__2gyln\",\"productdata\":\"MealDetail_productdata__WzzfD\",\"productimage\":\"MealDetail_productimage__1s-Oi\",\"producttext\":\"MealDetail_producttext___OmoC\",\"productactions\":\"MealDetail_productactions__1xHZU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"cart-item\":\"CartItem_cart-item__3aRta\",\"summary\":\"CartItem_summary__jizx9\",\"priceamount\":\"CartItem_priceamount__2Zk_b\",\"sum\":\"CartItem_sum__3bllN\",\"actions\":\"CartItem_actions__33j_V\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"HeaderCartButton_button__C6nxg\",\"icon\":\"HeaderCartButton_icon__14t6l\",\"badge\":\"HeaderCartButton_badge__3xaab\",\"bump\":\"HeaderCartButton_bump__3NsJ0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"meal\":\"MealItem_meal__3RQyB\",\"mealimage\":\"MealItem_mealimage__PV3Oy\",\"description\":\"MealItem_description__3XQzu\",\"price\":\"MealItem_price__3Zpiq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"meals\":\"AvailableMeals_meals__1qbJ-\",\"meals-appear\":\"AvailableMeals_meals-appear__1mj6T\",\"MealsLoading\":\"AvailableMeals_MealsLoading__3-XBD\",\"MealsError\":\"AvailableMeals_MealsError__1Fd0p\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__2ZveA\",\"active\":\"Header_active__3VptJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"Card_card__2Vdls\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"input\":\"Input_input__1LkjG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"MealItemForm_form__2hntM\"};","import { createSlice } from \"@reduxjs/toolkit\";\r\n\r\nconst authSlice = createSlice({\r\n  name: \"auth\",\r\n  initialState: { isAuth: false },\r\n  reducers: {\r\n    setLoggedIn(state) {\r\n      state.isAuth = true;\r\n    },\r\n    setLoggedOut(state) {\r\n      state.isAuth = false;\r\n    },\r\n  },\r\n});\r\n\r\nexport const authActions = authSlice.actions;\r\n\r\nexport default authSlice;\r\n","import { createSlice } from \"@reduxjs/toolkit\";\r\n\r\nconst initialState = {\r\n  items: [],\r\n  totalQuantity: 0,\r\n  totalAmount: 0,\r\n};\r\n\r\nconst cartSlice = createSlice({\r\n  name: \"cart\",\r\n  initialState: initialState,\r\n  reducers: {\r\n    addItemToCart(state, action) {\r\n      const newItem = action.payload;\r\n      console.log(\"NEWITEM\", newItem);\r\n      const existingItem = state.items.find((item) => item.id === newItem.id);\r\n      state.totalQuantity = state.totalQuantity + newItem.quantity;\r\n      state.totalAmount = state.totalAmount + newItem.quantity * newItem.price;\r\n      if (!existingItem) {\r\n        state.items.push({\r\n          id: newItem.id,\r\n          title: newItem.title,\r\n          price: newItem.price,\r\n          quantity: newItem.quantity,\r\n          totalPrice: newItem.price * newItem.quantity,\r\n        });\r\n      } else {\r\n        existingItem.quantity = existingItem.quantity + newItem.quantity;\r\n        existingItem.totalPrice =\r\n          existingItem.totalPrice + newItem.price * newItem.quantity;\r\n      }\r\n\r\n      console.log(\"TOTAL QUANTITY\", state.totalQuantity);\r\n      console.log(\"TOTAL PRICE\", state.totalAmount);\r\n    },\r\n    removeItemFromCart(state, action) {\r\n      const id = action.payload;\r\n      console.log(\"ID\", id);\r\n      const existingItem = state.items.find((item) => item.id === id);\r\n      state.totalQuantity--;\r\n      if (existingItem.quantity === 1) {\r\n        state.totalAmount = state.totalAmount - existingItem.price;\r\n        state.items = state.items.filter((item) => item.id !== id);\r\n      } else {\r\n        existingItem.quantity--;\r\n        existingItem.totalPrice = existingItem.totalPrice - existingItem.price;\r\n        state.totalAmount = state.totalAmount - existingItem.price;\r\n      }\r\n    },\r\n    clearCart(state, action) {\r\n      const cartContent = action.payload;\r\n      console.log(cartContent);\r\n      state = cartContent;\r\n\r\n      return state;\r\n    },\r\n  },\r\n});\r\n\r\nexport const cartActions = cartSlice.actions;\r\n\r\nexport default cartSlice;\r\n","import { createSlice } from \"@reduxjs/toolkit\";\r\n\r\nconst foodsSlice = createSlice({\r\n  name: \"foods\",\r\n  initialState: { items: [] },\r\n  reducers: {\r\n    setFoods(state, action) {\r\n      state.items = action.payload;\r\n      console.log(\"FROM STATE\", state.items);\r\n    },\r\n  },\r\n});\r\n\r\nexport const foodsActions = foodsSlice.actions;\r\n\r\nexport default foodsSlice;\r\n","import { configureStore } from \"@reduxjs/toolkit\";\r\n\r\nimport authSlice from \"./auth-slice\";\r\nimport cartSlice from \"./cart-slice\";\r\nimport foodsSlice from \"./foods-slice\";\r\n\r\nconst store = configureStore({\r\n  reducer: {\r\n    auth: authSlice.reducer,\r\n    cart: cartSlice.reducer,\r\n    foods: foodsSlice.reducer,\r\n  },\r\n});\r\n\r\nexport default store;\r\n","const CartIcon = () => {\r\n  return (\r\n    <svg\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n      viewBox=\"0 0 20 20\"\r\n      fill=\"currentColor\"\r\n    >\r\n      <path d=\"M3 1a1 1 0 000 2h1.22l.305 1.222a.997.997 0 00.01.042l1.358 5.43-.893.892C3.74 11.846 4.632 14 6.414 14H15a1 1 0 000-2H6.414l1-1H14a1 1 0 00.894-.553l3-6A1 1 0 0017 3H6.28l-.31-1.243A1 1 0 005 1H3zM16 16.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0zM6.5 18a1.5 1.5 0 100-3 1.5 1.5 0 000 3z\" />\r\n    </svg>\r\n  );\r\n};\r\n\r\nexport default CartIcon;\r\n","import { useEffect, useState } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\nimport CartIcon from \"../Cart/CartIcon\";\r\n//import CartContext from \"../../store/context/cart-context\";\r\nimport classes from \"./HeaderCartButton.module.css\";\r\n\r\nconst HeaderCartButton = (props) => {\r\n  const [btnIsHighLighted, setBtnIsHighlighted] = useState(false);\r\n  const cartItems = useSelector((state) => state.cart.items);\r\n  console.log(cartItems);\r\n\r\n  // const numberOfCartItems = cartItems.reduce((curNumber, item) => {\r\n  //   return curNumber + item.amount;\r\n  // }, 0);\r\n\r\n  const numberOfCartItems = useSelector((state) => state.cart.totalQuantity);\r\n\r\n  const btnClasses = `${classes.button} ${\r\n    btnIsHighLighted ? classes.bump : \"\"\r\n  }`;\r\n\r\n  useEffect(() => {\r\n    if (cartItems.length === 0) {\r\n      return;\r\n    }\r\n    setBtnIsHighlighted(true);\r\n\r\n    setTimeout(() => {\r\n      setBtnIsHighlighted(false);\r\n    }, 300);\r\n\r\n    return () => {\r\n      clearTimeout(false);\r\n    };\r\n  }, [cartItems]);\r\n\r\n  return (\r\n    <button className={btnClasses} onClick={props.onClick}>\r\n      <span className={classes.icon}>\r\n        <CartIcon />\r\n      </span>\r\n      <span>Your Cart</span>\r\n      <span className={classes.badge}>{numberOfCartItems}</span>\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default HeaderCartButton;\r\n","import { Link } from \"react-router-dom\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\nimport classes from \"./Header.module.css\";\r\nimport HeaderCartButton from \"./HeaderCartButton\";\r\nimport React from \"react\";\r\n\r\nconst Header = (props) => {\r\n  const showProfile = useSelector((state) => state.auth.isAuth);\r\n\r\n  return (\r\n    <header className={classes.header}>\r\n      <Link to=\"/Meals\">\r\n        <h1>ReactFoods</h1>\r\n      </Link>\r\n      {showProfile && <Link to=\"/Profile\">Profile</Link>}\r\n      <Link to=\"/Cart\">\r\n        <HeaderCartButton />\r\n      </Link>\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","import classes from \"./Card.module.css\";\r\n\r\nconst Card = (props) => {\r\n  return <div className={classes.card}>{props.children}</div>;\r\n};\r\n\r\nexport default Card;\r\n","import React from \"react\";\r\n\r\nimport classes from \"./Input.module.css\";\r\n\r\nconst Input = React.forwardRef((props, ref) => {\r\n  return (\r\n    <div className={classes.input}>\r\n      <label htmlFor={props.input.id}>{props.label}</label>\r\n      <input ref={ref} {...props.input} />\r\n    </div>\r\n  );\r\n});\r\n\r\nexport default Input;\r\n","import { useRef, useState } from \"react\";\r\nimport Input from \"../../UI/Input\";\r\nimport classes from \"./MealItemForm.module.css\";\r\n\r\nconst MealItemForm = (props) => {\r\n  const [amountIsValid, setAmountIsValid] = useState(true);\r\n  const amountInputRef = useRef();\r\n  const submitHandler = (event) => {\r\n    event.preventDefault();\r\n\r\n    const enteredAmount = amountInputRef.current.value;\r\n    const enteredAmountNumber = +enteredAmount;\r\n\r\n    if (\r\n      enteredAmount.trim().length === 0 ||\r\n      enteredAmountNumber < 1 ||\r\n      enteredAmountNumber > 5\r\n    ) {\r\n      setAmountIsValid(false);\r\n      return;\r\n    }\r\n\r\n    props.onAddToCart(enteredAmountNumber);\r\n  };\r\n  return (\r\n    <form className={classes.form} onSubmit={submitHandler}>\r\n      <Input\r\n        ref={amountInputRef}\r\n        label=\"Antal\"\r\n        input={{\r\n          id: \"amount_\" + props.id,\r\n          type: \"number\",\r\n          min: \"1\",\r\n          max: \"5\",\r\n          step: \"1\",\r\n          defaultValue: \"1\",\r\n        }}\r\n      />\r\n      <button>+ Lägg till</button>\r\n      {!amountIsValid && <p>Please enter a valid amount (1-5)</p>}\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default MealItemForm;\r\n","import { useDispatch } from \"react-redux\";\r\n\r\nimport { cartActions } from \"../../../store/redux/cart-slice\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport MealItemForm from \"./MealItemForm\";\r\nimport classes from \"./MealItem.module.css\";\r\n\r\nconst MealItem = (props) => {\r\n  const dispatch = useDispatch();\r\n\r\n  const price = `${props.price} kr`;\r\n\r\n  const addToCartHandler = (amount) => {\r\n    dispatch(\r\n      cartActions.addItemToCart({\r\n        key: props.id,\r\n        id: props.id,\r\n        title: props.title,\r\n        short: props.short,\r\n        quantity: amount,\r\n        price: props.price,\r\n        image: props.image,\r\n      })\r\n    );\r\n  };\r\n\r\n  return (\r\n    <li className={classes.meal}>\r\n      <div className={classes.mealimage}>\r\n        <img src={props.image} alt={props.short} />\r\n      </div>\r\n      <div className={classes.description}>\r\n        <h3>{props.title}</h3>\r\n        <div>{props.short}</div>\r\n        <div className={classes.price}>\r\n          <div>{price}</div>\r\n          <div>\r\n            <Link\r\n              to={`/MealsDetails/${props.id}`}\r\n              id={props.id}\r\n              key={props.id}\r\n              title={props.title}\r\n              short={props.short}\r\n              desc={props.desc}\r\n              price={props.price}\r\n              image={props.image}\r\n            >\r\n              <button>Läs mer</button>\r\n            </Link>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div>\r\n        <MealItemForm onAddToCart={addToCartHandler} />\r\n      </div>\r\n    </li>\r\n  );\r\n};\r\n\r\nexport default MealItem;\r\n","import { useEffect, useState } from \"react\";\r\nimport React from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\n\r\nimport { foodsActions } from \"../../store/redux/foods-slice\";\r\nimport Card from \"../UI/Card\";\r\nimport MealItem from \"./MealItem/MealItem\";\r\nimport classes from \"./AvailableMeals.module.css\";\r\n\r\nconst AvailableMeals = () => {\r\n  const dispatch = useDispatch();\r\n  const [meals, setMeals] = useState([]);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [httpError, setHttpError] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const fetchMeals = async () => {\r\n      setIsLoading(true);\r\n      const response = await fetch(\r\n        \"https://axios-test-1827b-default-rtdb.europe-west1.firebasedatabase.app/meals.json\"\r\n      );\r\n\r\n      if (!response.ok) {\r\n        throw new Error(\"Something went wrong!\");\r\n      }\r\n\r\n      const responseData = await response.json();\r\n\r\n      const setFoodsItemsHandler = (items) => {\r\n        dispatch(foodsActions.setFoods(items));\r\n      };\r\n\r\n      const loadedMeals = [];\r\n\r\n      for (const key in responseData) {\r\n        loadedMeals.push({\r\n          id: key,\r\n          title: responseData[key].name,\r\n          short: responseData[key].short,\r\n          description: responseData[key].desc,\r\n          price: responseData[key].price,\r\n          image: responseData[key].image,\r\n        });\r\n      }\r\n      setFoodsItemsHandler(loadedMeals);\r\n      setMeals(loadedMeals);\r\n      setIsLoading(false);\r\n    };\r\n\r\n    fetchMeals().catch((error) => {\r\n      setIsLoading(false);\r\n      setHttpError(error.message);\r\n    });\r\n  }, [dispatch]);\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <section className={classes.MealsLoading}>\r\n        <p>Is loading ...</p>\r\n      </section>\r\n    );\r\n  }\r\n\r\n  if (httpError) {\r\n    return (\r\n      <section className={classes.MealsError}>\r\n        <p>{httpError}</p>\r\n      </section>\r\n    );\r\n  }\r\n\r\n  const mealsList = meals.map((meal) => (\r\n    <MealItem\r\n      id={meal.id}\r\n      key={meal.id}\r\n      title={meal.title}\r\n      short={meal.short}\r\n      desc={meal.desc}\r\n      price={meal.price}\r\n      image={meal.image}\r\n    />\r\n  ));\r\n  return (\r\n    <section className={classes.meals}>\r\n      <Card>\r\n        <ul>{mealsList}</ul>\r\n      </Card>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default AvailableMeals;\r\n","import AvailableMeals from \"./AvailableMeals\";\r\n\r\nconst Meals = () => {\r\n  return <AvailableMeals />;\r\n};\r\n\r\nexport default Meals;\r\n","import { useDispatch, useSelector } from \"react-redux\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { cartActions } from \"../../../store/redux/cart-slice\";\r\nimport Card from \"../../UI/Card\";\r\nimport classes from \"./MealDetail.module.css\";\r\n\r\nconst MealDetail = () => {\r\n  const { id } = useParams();\r\n  console.log(id);\r\n  const foods = useSelector((state) => state.foods.items);\r\n  console.log(foods);\r\n\r\n  const foodItem = foods.filter((foods) => foods.id === id)[0];\r\n  console.log(foodItem);\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const addToCartHandler = () => {\r\n    dispatch(\r\n      cartActions.addItemToCart({\r\n        id: foodItem.id,\r\n        title: foodItem.title,\r\n        quantity: 1,\r\n        price: foodItem.price,\r\n      })\r\n    );\r\n  };\r\n  console.log(\"SECOND\", foodItem);\r\n  return (\r\n    <section className={classes.detailcard}>\r\n      <Card>\r\n        <div className={classes.productdata}>\r\n          <div className={classes.productimage}>\r\n            <img src={foodItem.image} alt={foodItem.desc} />\r\n            <button className={classes.outline}>\r\n              <Link to=\"/Meals\">Tillbaka till menyn</Link>\r\n            </button>\r\n          </div>\r\n          <div className={classes.producttext}>\r\n            <div>\r\n              <h2>{foodItem.title}</h2>\r\n            </div>\r\n            <div className={classes.productactions}>\r\n              <h4>{foodItem.price} kr</h4>\r\n              <button onClick={addToCartHandler}>Lägg till +</button>\r\n            </div>\r\n            <h5>{foodItem.short}</h5>\r\n            <p>{foodItem.description}</p>\r\n          </div>\r\n        </div>\r\n      </Card>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default MealDetail;\r\n","import { useParams } from \"react-router-dom\";\r\nimport MealDetail from \"../components/Meals/MealItem/MealDetail\";\r\n\r\nconst MealsDetailPage = () => {\r\n  const params = useParams();\r\n  console.log(params);\r\n\r\n  return <MealDetail />;\r\n};\r\n\r\nexport default MealsDetailPage;\r\n","import { useDispatch } from \"react-redux\";\r\nimport { cartActions } from \"../../store/redux/cart-slice\";\r\nimport classes from \"./CartItem.module.css\";\r\n\r\nconst CartItem = (props) => {\r\n  const itemPrice = `${props.price} kr`;\r\n  const dispatch = useDispatch();\r\n\r\n  const { id, title, price } = props;\r\n  console.log(id);\r\n\r\n  const removeFromCartHandler = () => {\r\n    dispatch(cartActions.removeItemFromCart(id));\r\n  };\r\n\r\n  const addToCartHandler = () => {\r\n    dispatch(\r\n      cartActions.addItemToCart({\r\n        id,\r\n        title,\r\n        quantity: 1,\r\n        price,\r\n      })\r\n    );\r\n  };\r\n\r\n  return (\r\n    <li className={classes[\"cart-item\"]}>\r\n      <div>\r\n        <h2>{props.title}</h2>\r\n        <div className={classes.summary}>\r\n          <span className={classes.amount}>\r\n            {props.quantity} {props.quantity > 1 ? \"portioner\" : \"portion\"}\r\n          </span>\r\n          <span className={classes.price}>à {itemPrice}</span>\r\n          <span className={classes.sum}>\r\n            = {props.quantity * props.price} kr\r\n          </span>\r\n        </div>\r\n      </div>\r\n      <div className={classes.actions}>\r\n        <button onClick={removeFromCartHandler}>−</button>\r\n        <button onClick={addToCartHandler}>+</button>\r\n      </div>\r\n    </li>\r\n  );\r\n};\r\n\r\nexport default CartItem;\r\n","import { useRef, useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport classes from \"./Checkout.module.css\";\r\n\r\nconst isEmpty = (value) => value.trim().length === 0;\r\nconst isFiveChars = (value) => value.trim().length === 5;\r\n\r\nconst Checkout = (props) => {\r\n  const [formInputsValidity, setFormInputsValidity] = useState({\r\n    name: true,\r\n    street: true,\r\n    postalCode: true,\r\n    city: true,\r\n  });\r\n\r\n  const nameInputRef = useRef();\r\n  const streetInputRef = useRef();\r\n  const postalInputRef = useRef();\r\n  const cityInputRef = useRef();\r\n\r\n  const confirmHandler = (event) => {\r\n    event.preventDefault();\r\n\r\n    const enteredName = nameInputRef.current.value;\r\n    const enteredStreet = streetInputRef.current.value;\r\n    const enteredPostal = postalInputRef.current.value;\r\n    const enteredCity = cityInputRef.current.value;\r\n\r\n    const enteredNameIsValid = !isEmpty(enteredName);\r\n    const enteredStreetIsValid = !isEmpty(enteredStreet);\r\n    const enteredPostalIsValid = isFiveChars(enteredPostal);\r\n    const enteredCityIsValid = !isEmpty(enteredCity);\r\n\r\n    setFormInputsValidity({\r\n      name: enteredNameIsValid,\r\n      street: enteredStreetIsValid,\r\n      postalCode: enteredPostalIsValid,\r\n      city: enteredCityIsValid,\r\n    });\r\n\r\n    const formIsValid =\r\n      enteredNameIsValid &&\r\n      enteredStreetIsValid &&\r\n      enteredPostalIsValid &&\r\n      enteredCityIsValid;\r\n\r\n    if (!formIsValid) {\r\n      return;\r\n    }\r\n\r\n    props.onConfirm({\r\n      name: enteredName,\r\n      street: enteredCity,\r\n      postalCode: enteredPostal,\r\n      city: enteredCity,\r\n    });\r\n  };\r\n\r\n  return (\r\n    <form className={classes.form} onSubmit={confirmHandler}>\r\n      <div\r\n        className={`${classes.control} ${\r\n          formInputsValidity.name ? \"\" : classes.invalid\r\n        }`}\r\n      >\r\n        <label htmlFor=\"name\">Your Name</label>\r\n        <input type=\"text\" id=\"name\" ref={nameInputRef} />\r\n        {!formInputsValidity.name && <p>Please enter a name</p>}\r\n      </div>\r\n      <div\r\n        className={`${classes.control} ${\r\n          formInputsValidity.street ? \"\" : classes.invalid\r\n        }`}\r\n      >\r\n        <label htmlFor=\"street\">Street</label>\r\n        <input type=\"text\" id=\"street\" ref={streetInputRef} />\r\n        {!formInputsValidity.street && <p>Please enter a street address</p>}\r\n      </div>\r\n      <div\r\n        className={`${classes.control} ${\r\n          formInputsValidity.postalCode ? \"\" : classes.invalid\r\n        }`}\r\n      >\r\n        <label htmlFor=\"postal\">Postal Code</label>\r\n        <input type=\"text\" id=\"postal\" ref={postalInputRef} />\r\n        {!formInputsValidity.postalCode && (\r\n          <p>Please enter a valid postal code</p>\r\n        )}\r\n      </div>\r\n      <div\r\n        className={`${classes.control} ${\r\n          formInputsValidity.city ? \"\" : classes.invalid\r\n        }`}\r\n      >\r\n        <label htmlFor=\"city\">City</label>\r\n        <input type=\"text\" id=\"city\" ref={cityInputRef} />\r\n        {!formInputsValidity.city && <p>Please enter a city</p>}\r\n      </div>\r\n      <div className={classes.actions}>\r\n        <Link to=\"/Meals\">\r\n          <button type=\"button\">Cancel</button>\r\n        </Link>\r\n        <button className={classes.submit}>Confirm</button>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default Checkout;\r\n","import React, { useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\n\r\nimport Card from \"../UI/Card\";\r\nimport CartItem from \"./CartItem\";\r\nimport classes from \"./Cart.module.css\";\r\nimport cartActions from \"../../store/redux/cart-slice\";\r\nimport Checkout from \"./Checkout\";\r\n\r\nconst Cart = (props) => {\r\n  const dispatch = useDispatch();\r\n  const cartState = useSelector((state) => state.cart.items);\r\n  const cartTotal = useSelector((state) => state.cart);\r\n\r\n  const [isCheckout, setIsCheckout] = useState(false);\r\n  const [isSubmitting, setIsSubmitting] = useState(false);\r\n  const [didSubmit, setDidSubmit] = useState(false);\r\n\r\n  const totalAmount = `${cartTotal.totalAmount} kr`;\r\n  const hasItems = cartState.length > 0;\r\n\r\n  const cartItemRemoveHandler = (id) => {\r\n    dispatch(cartActions.removeItemFromCart(id));\r\n  };\r\n\r\n  const cartItemAddHandler = (item) => {\r\n    dispatch(\r\n      cartActions.addItemToCart({\r\n        id: item.id,\r\n        quantity: 1,\r\n        price: item.price,\r\n      })\r\n    );\r\n    //dispatch(cartActions.addItemToCart({ id, quantity = 1 }));\r\n  };\r\n\r\n  /*const clearCart = () => {\r\n    dispatch(\r\n      cartActions.clearCart({\r\n        items: [],\r\n        totalQuantity: 0,\r\n        totalAmount: 0,\r\n      })\r\n    );\r\n  };*/\r\n\r\n  const cartItems = (\r\n    <ul className={classes[\"cart-items\"]}>\r\n      {cartState.map((item) => (\r\n        <CartItem\r\n          key={item.id}\r\n          id={item.id}\r\n          title={item.title}\r\n          quantity={item.quantity}\r\n          price={item.price}\r\n          onRemove={cartItemRemoveHandler}\r\n          onAdd={cartItemAddHandler}\r\n        />\r\n      ))}\r\n    </ul>\r\n  );\r\n\r\n  const orderHandler = () => {\r\n    setIsCheckout(true);\r\n  };\r\n\r\n  const submitOrderHandler = async (userData) => {\r\n    setIsSubmitting(true);\r\n    await fetch(\r\n      \"https://axios-test-1827b-default-rtdb.europe-west1.firebasedatabase.app/orders.json\",\r\n      {\r\n        method: \"POST\",\r\n        body: JSON.stringify({\r\n          user: userData,\r\n          orderedItems: cartState.items,\r\n        }),\r\n      }\r\n    );\r\n    setIsSubmitting(false);\r\n    setDidSubmit(true);\r\n    //clearCart();\r\n  };\r\n\r\n  const modalActions = (\r\n    <div className={classes.actions}>\r\n      <Link to=\"/meals\">\r\n        <button className={classes[\"button--alt\"]} onClick={props.onClose}>\r\n          Close\r\n        </button>\r\n      </Link>\r\n      {hasItems && (\r\n        <button className={classes.button} onClick={orderHandler}>\r\n          Beställ\r\n        </button>\r\n      )}\r\n    </div>\r\n  );\r\n\r\n  const cartContent = (\r\n    <React.Fragment>\r\n      {cartItems}\r\n      <div className={classes.total}>\r\n        <span>Summa:</span>\r\n        <span>{totalAmount}</span>\r\n      </div>\r\n      {isCheckout && (\r\n        <Checkout onConfirm={submitOrderHandler} onCancel={props.onClose} />\r\n      )}\r\n      {!isCheckout && modalActions}\r\n    </React.Fragment>\r\n  );\r\n\r\n  const isSubmittingContent = <p>Sending order data ...</p>;\r\n  const didSubmitContent = (\r\n    <React.Fragment>\r\n      <p>\r\n        Din order har skickats in och kommer skyndsamt att ställas i ordning!\r\n      </p>{\" \"}\r\n      <div className={classes.actions}>\r\n        <Link to=\"/meals\">\r\n          <button className={classes.button} onClick={props.onClose}>\r\n            Close\r\n          </button>\r\n        </Link>\r\n      </div>\r\n    </React.Fragment>\r\n  );\r\n\r\n  return (\r\n    <section className={classes.cartcard}>\r\n      <Card>\r\n        {!isSubmitting && !didSubmit && cartContent}\r\n        {isSubmitting && !didSubmit && isSubmittingContent}\r\n        {!isSubmitting && didSubmit && didSubmitContent}\r\n      </Card>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default Cart;\r\n","import { Fragment } from \"react\";\nimport { Route, Switch, Redirect } from \"react-router-dom\";\n\nimport Header from \"./components/Layout/Header\";\nimport Meals from \"./components/Meals/Meals\";\nimport MealsDetailPage from \"./pages/MealsDetailPage\";\nimport Cart from \"./components/Cart/Cart\";\n\nfunction App() {\n  return (\n    <Fragment>\n      <Header />\n      <main>\n        <Switch>\n          <Route path=\"/\" exact>\n            <Redirect to=\"/Meals\" exact />\n          </Route>\n          <Route path=\"/Meals\">\n            <Meals />\n          </Route>\n          <Route path=\"/MealsDetails/:id\">\n            <MealsDetailPage />\n          </Route>\n          <Route path=\"/Cart\">\n            <Cart />\n          </Route>\n        </Switch>\n      </main>\n    </Fragment>\n  );\n}\n\nexport default App;\n","import ReactDOM from \"react-dom\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport { Provider } from \"react-redux\";\n\nimport store from \"./store/redux/index.js\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <Provider store={store}>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </Provider>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}